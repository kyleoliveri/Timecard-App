{"ast":null,"code":"import _slicedToArray from \"/Users/KyleOliveri/Desktop/uclaFullStackCoding/Homework/Group-Project-3/timecard-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState, useEffect } from 'react';\nexport const useHttp = (url, method, body, headers, dependencies) => {\n  const _useState = useState(true),\n        _useState2 = _slicedToArray(_useState, 2),\n        isLoading = _useState2[0],\n        setIsLoading = _useState2[1];\n\n  const _useState3 = useState({}),\n        _useState4 = _slicedToArray(_useState3, 2),\n        fetchedData = _useState4[0],\n        setFetchedData = _useState4[1];\n\n  useEffect(() => {\n    setIsLoading(true);\n\n    if (method === 'GET') {\n      console.log('get method fired');\n      fetch(url, {\n        method: method,\n        headers: headers\n      }).then(r => {\n        if (!r.ok) {\n          throw new Error('failed to fetch');\n        }\n\n        return r.json();\n      }).then(d => {\n        console.log(d);\n        setIsLoading(false);\n        setFetchedData(d);\n      }).catch(e => {\n        console.log(e);\n        setIsLoading(false);\n      });\n    } else {\n      console.log('any other method fired');\n      fetch(url, {\n        method: method,\n        body: body,\n        headers: headers\n      }).then(r => {\n        if (!r.ok) {\n          throw new Error('failed to fetch');\n        }\n\n        return r.json();\n      }).then(d => {\n        console.log(d);\n        setIsLoading(false);\n        setFetchedData(d);\n      }).catch(e => {\n        console.log(e);\n        setIsLoading(false);\n      });\n    }\n  }, dependencies);\n  return [isLoading, fetchedData];\n};","map":{"version":3,"sources":["/Users/KyleOliveri/Desktop/uclaFullStackCoding/Homework/Group-Project-3/timecard-app/client/src/components/Hooks/Fetch.js"],"names":["useState","useEffect","useHttp","url","method","body","headers","dependencies","isLoading","setIsLoading","fetchedData","setFetchedData","console","log","fetch","then","r","ok","Error","json","d","catch","e"],"mappings":";AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAEA,OAAO,MAAMC,OAAO,GAAG,CAACC,GAAD,EAAMC,MAAN,EAAcC,IAAd,EAAoBC,OAApB,EAA6BC,YAA7B,KAA8C;AAAA,oBAC/BP,QAAQ,CAAC,IAAD,CADuB;AAAA;AAAA,QAC1DQ,SAD0D;AAAA,QAC/CC,YAD+C;;AAAA,qBAE3BT,QAAQ,CAAC,EAAD,CAFmB;AAAA;AAAA,QAE1DU,WAF0D;AAAA,QAE7CC,cAF6C;;AAIjEV,EAAAA,SAAS,CAAE,MAAM;AACbQ,IAAAA,YAAY,CAAC,IAAD,CAAZ;;AAEA,QAAGL,MAAM,KAAK,KAAd,EAAoB;AAChBQ,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACAC,MAAAA,KAAK,CAACX,GAAD,EAAM;AACPC,QAAAA,MAAM,EAAEA,MADD;AAEPE,QAAAA,OAAO,EAAEA;AAFF,OAAN,CAAL,CAGGS,IAHH,CAGSC,CAAC,IAAI;AACV,YAAG,CAACA,CAAC,CAACC,EAAN,EAAS;AACL,gBAAM,IAAIC,KAAJ,CAAU,iBAAV,CAAN;AACH;;AACD,eAAOF,CAAC,CAACG,IAAF,EAAP;AACH,OARD,EAQGJ,IARH,CAQSK,CAAC,IAAI;AACVR,QAAAA,OAAO,CAACC,GAAR,CAAYO,CAAZ;AACAX,QAAAA,YAAY,CAAC,KAAD,CAAZ;AACAE,QAAAA,cAAc,CAACS,CAAD,CAAd;AACH,OAZD,EAYGC,KAZH,CAYUC,CAAC,IAAI;AACXV,QAAAA,OAAO,CAACC,GAAR,CAAYS,CAAZ;AACAb,QAAAA,YAAY,CAAC,KAAD,CAAZ;AACH,OAfD;AAgBH,KAlBD,MAkBO;AACHG,MAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACAC,MAAAA,KAAK,CAACX,GAAD,EAAM;AACPC,QAAAA,MAAM,EAAEA,MADD;AAEPC,QAAAA,IAAI,EAAEA,IAFC;AAGPC,QAAAA,OAAO,EAAEA;AAHF,OAAN,CAAL,CAIGS,IAJH,CAISC,CAAC,IAAI;AACV,YAAG,CAACA,CAAC,CAACC,EAAN,EAAS;AACL,gBAAM,IAAIC,KAAJ,CAAU,iBAAV,CAAN;AACH;;AACD,eAAOF,CAAC,CAACG,IAAF,EAAP;AACH,OATD,EASGJ,IATH,CASSK,CAAC,IAAI;AACVR,QAAAA,OAAO,CAACC,GAAR,CAAYO,CAAZ;AACAX,QAAAA,YAAY,CAAC,KAAD,CAAZ;AACAE,QAAAA,cAAc,CAACS,CAAD,CAAd;AACH,OAbD,EAaGC,KAbH,CAaUC,CAAC,IAAI;AACXV,QAAAA,OAAO,CAACC,GAAR,CAAYS,CAAZ;AACAb,QAAAA,YAAY,CAAC,KAAD,CAAZ;AACH,OAhBD;AAiBH;AACJ,GAzCQ,EAyCNF,YAzCM,CAAT;AA0CA,SAAO,CAACC,SAAD,EAAYE,WAAZ,CAAP;AACH,CA/CM","sourcesContent":["import { useState, useEffect } from 'react';\n\nexport const useHttp = (url, method, body, headers, dependencies) => {\n    const [isLoading, setIsLoading] = useState(true);\n    const [fetchedData, setFetchedData] = useState({});\n\n    useEffect( () => {\n        setIsLoading(true);\n\n        if(method === 'GET'){\n            console.log('get method fired');\n            fetch(url, {\n                method: method,\n                headers: headers\n            }).then( r => {\n                if(!r.ok){\n                    throw new Error('failed to fetch');\n                }\n                return r.json();\n            }).then( d => {\n                console.log(d)\n                setIsLoading(false);\n                setFetchedData(d);\n            }).catch( e => {\n                console.log(e);\n                setIsLoading(false);\n            })\n        } else {\n            console.log('any other method fired');\n            fetch(url, {\n                method: method,\n                body: body,\n                headers: headers\n            }).then( r => {\n                if(!r.ok){\n                    throw new Error('failed to fetch');\n                }\n                return r.json();\n            }).then( d => {\n                console.log(d)\n                setIsLoading(false);\n                setFetchedData(d);\n            }).catch( e => {\n                console.log(e);\n                setIsLoading(false);\n            })\n        }\n    }, dependencies )\n    return [isLoading, fetchedData];\n}"]},"metadata":{},"sourceType":"module"}