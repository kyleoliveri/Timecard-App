{"ast":null,"code":"import _slicedToArray from \"/Users/KyleOliveri/Desktop/uclaFullStackCoding/Homework/Group-Project-3/timecard-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/KyleOliveri/Desktop/uclaFullStackCoding/Homework/Group-Project-3/timecard-app/client/src/components/DashboardPage/Dashboard/Dashboard.js\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport UserDashboardCard from '../UserDashboardCard/UserDashboardCard.js';\nimport BtnCardReveal from '../../BtnList/BtnCardReveal';\nimport JobModal from '../../Modal/JobModal';\nimport { useHttp } from '../../Hooks/Fetch';\nimport AuthContext from '../../../context/auth/AuthContext';\nimport setAuthToken from '../../../utils/setAuthToken';\nimport loadingImg from '../../../img/loading.gif';\nimport Navbar from '../../Layout/Navbar/Navbar';\nimport { inherits } from 'util';\n\nconst Dashboard = props => {\n  const authContext = useContext(AuthContext);\n  useEffect(() => {\n    authContext.loadUser();\n    authContext.setAppName(\"Dashboard\"); // eslint-disable-next-line\n  }, []);\n\n  if (localStorage.token) {\n    setAuthToken(localStorage.token);\n  } else {\n    props.history.push('/login');\n  }\n\n  console.log(\"\\n    this is the token:\\n    \".concat(authContext.token, \"\\n    \\n    \")); // const loading = 'loading . . .';\n\n  const loading = 'loading . . .';\n\n  const _useState = useState(loading),\n        _useState2 = _slicedToArray(_useState, 2),\n        profile = _useState2[0],\n        setProfile = _useState2[1];\n\n  const profileLoadingChecker = obj => {\n    obj ? setProfile(obj) : setProfile(loading);\n  };\n\n  const _useState3 = useState(loading),\n        _useState4 = _slicedToArray(_useState3, 2),\n        jobs = _useState4[0],\n        setJobs = _useState4[1];\n\n  const jobsLoadingChecker = arr => {\n    arr[0] ? setJobs(arr) : setJobs(loading);\n  };\n\n  const token = authContext.token;\n  let h = {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json'\n  };\n  h['x-auth-token'] = token; //fetch user profile =============================================================================================\n\n  let fetchedProfile = useHttp('http://localhost:5000/api/user', 'GET', '', h, []);\n  const p = fetchedProfile[1];\n  useEffect(() => profileLoadingChecker(p[0]), [p[0]]);\n  const profileloading = fetchedProfile[0];\n\n  if (profile) {\n    console.log(\"\\n        \\n            this is fetchedprofile\\n            \".concat(profile.name, \"\\n            \\n            \"));\n  } //fetch Job Profile ==============================================================================================\n\n\n  let fetchedJobs = useHttp('http://localhost:5000/api/job', 'GET', '', h, []);\n  const jobloading = fetchedJobs[0];\n  const j = fetchedJobs[1];\n  useEffect(() => jobsLoadingChecker(j), [j]);\n  console.log(\"\\n        \\n        this is jobprofile\\n        \".concat(JSON.stringify(j), \"\\n        \\n        \")); // load dom ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(Navbar, {\n    title: \"Dashboard\",\n    dropdown: true,\n    home: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }), React.createElement(JobModal, {\n    token: token,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }), React.createElement(\"main\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(UserDashboardCard, {\n    name: profile === loading ? profile : profile.name,\n    email: profile === loading ? profile : profile.email,\n    jobTitle: profile === loading ? profile : profile.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }), jobs === loading ? React.createElement(\"img\", {\n    src: loadingImg,\n    style: {\n      height: '200px',\n      width: '200px',\n      position: 'absolute',\n      top: 'calc(50% - 100px',\n      left: 'calc(50% - 100px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }) : jobs.map((v, i) => {\n    return React.createElement(BtnCardReveal, {\n      key: i,\n      jobId: v._id,\n      title: v.name,\n      description: v.description,\n      role: v.role,\n      type: v.jobType,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    });\n    {\n      jobs === loading ? React.createElement(\"img\", {\n        src: loadingImg,\n        style: {\n          height: '200px',\n          width: '200px',\n          position: 'absolute',\n          top: 'calc(50% - 100px',\n          left: 'calc(50% - 100px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }) : jobs.map((v, i) => {\n        return React.createElement(BtnCardReveal, {\n          key: i,\n          jobId: v._id,\n          title: v.name,\n          description: v.description,\n          role: v.role,\n          type: v.jobType,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        });\n      });\n    }\n  })));\n};\n\nexport default Dashboard;","map":{"version":3,"sources":["/Users/KyleOliveri/Desktop/uclaFullStackCoding/Homework/Group-Project-3/timecard-app/client/src/components/DashboardPage/Dashboard/Dashboard.js"],"names":["React","useState","useEffect","useContext","UserDashboardCard","BtnCardReveal","JobModal","useHttp","AuthContext","setAuthToken","loadingImg","Navbar","inherits","Dashboard","props","authContext","loadUser","setAppName","localStorage","token","history","push","console","log","loading","profile","setProfile","profileLoadingChecker","obj","jobs","setJobs","jobsLoadingChecker","arr","h","fetchedProfile","p","profileloading","name","fetchedJobs","jobloading","j","JSON","stringify","email","title","height","width","position","top","left","map","v","i","_id","description","role","jobType"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react'\nimport UserDashboardCard from '../UserDashboardCard/UserDashboardCard.js';\nimport BtnCardReveal from '../../BtnList/BtnCardReveal';\nimport JobModal from '../../Modal/JobModal'\nimport { useHttp } from '../../Hooks/Fetch';\nimport AuthContext from '../../../context/auth/AuthContext';\nimport setAuthToken from '../../../utils/setAuthToken';\nimport loadingImg from '../../../img/loading.gif';\nimport Navbar from '../../Layout/Navbar/Navbar';\nimport { inherits } from 'util';\n\nconst Dashboard = (props) => {\n\n    const authContext = useContext(AuthContext);\n\n    useEffect(() => {\n        authContext.loadUser();\n        authContext.setAppName(\"Dashboard\");\n        // eslint-disable-next-line\n    }, [])\n\n\n    if (localStorage.token) {\n        setAuthToken(localStorage.token);\n    } else {\n        props.history.push('/login');\n    }\n\n\n    console.log(`\n    this is the token:\n    ${authContext.token}\n    \n    `)\n\n\n    // const loading = 'loading . . .';\n    const loading = 'loading . . .';\n    const [profile, setProfile] = useState(loading)\n    const profileLoadingChecker = (obj) => { obj ? setProfile(obj) : setProfile(loading) };\n\n    const [jobs, setJobs] = useState(loading)\n    const jobsLoadingChecker = (arr) => { arr[0] ? setJobs(arr) : setJobs(loading) };\n\n    const token = authContext.token;\n    let h = {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n    }\n    h['x-auth-token'] = token;\n\n    //fetch user profile =============================================================================================\n    let fetchedProfile = useHttp('http://localhost:5000/api/user', 'GET', '', h, []);\n    const p = fetchedProfile[1];\n\n    useEffect(() => profileLoadingChecker(p[0]), [p[0]]);\n\n    const profileloading = fetchedProfile[0];\n\n\n    if (profile) {\n        console.log(`\n        \n            this is fetchedprofile\n            ${profile.name}\n            \n            `);\n    }\n\n\n\n    //fetch Job Profile ==============================================================================================\n    let fetchedJobs = useHttp('http://localhost:5000/api/job', 'GET', '', h, []);\n    const jobloading = fetchedJobs[0];\n    const j = fetchedJobs[1];\n\n    useEffect(() => jobsLoadingChecker(j), [j]);\n\n    console.log(`\n        \n        this is jobprofile\n        ${JSON.stringify(j)}\n        \n        `);\n\n\n\n    // load dom ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n\n\n    return (\n        <div>\n\n            <Navbar title=\"Dashboard\" dropdown = { true } home = { false } />\n            <JobModal token = {token}/>\n\n            <main>\n                <UserDashboardCard\n                    name={profile === loading ? profile : profile.name}\n                    email={profile === loading ? profile : profile.email}\n                    jobTitle={profile === loading ? profile : profile.title}\n                />\n\n                {jobs === loading ? <img src={loadingImg} style={{ height: '200px', width: '200px', position: 'absolute', top: 'calc(50% - 100px', left: 'calc(50% - 100px' }} /> : jobs.map((v, i) => {\n                    return <BtnCardReveal\n                        key={i}\n                        jobId={v._id}\n                        title={v.name}\n                        description={v.description}\n                        role={v.role}\n                        type={v.jobType}\n                    />\n\n                    {jobs === loading ? <img src={loadingImg} style={{ height: '200px', width: '200px', position: 'absolute', top: 'calc(50% - 100px', left: 'calc(50% - 100px' }} /> : jobs.map((v, i) => {\n                        return <BtnCardReveal\n                            key={i}\n                            jobId={v._id}\n                            title={v.name}\n                            description={v.description}\n                            role={v.role}\n                            type={v.jobType}\n                        />\n                    })\n                    }\n\n                })\n                }\n            </main>\n        </div>\n    )\n}\n\nexport default Dashboard;"]},"metadata":{},"sourceType":"module"}