{"ast":null,"code":"import _slicedToArray from \"/Users/KyleOliveri/Desktop/uclaFullStackCoding/Homework/Group-Project-3/timecard-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/KyleOliveri/Desktop/uclaFullStackCoding/Homework/Group-Project-3/timecard-app/client/src/components/BtnList/BtnCardReveal.js\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport './BtnCardReveal.css';\nimport { useHttp } from '../Hooks/Fetch';\nimport AuthContext from '../../context/auth/AuthContext';\nimport setAuthToken from '../../utils/setAuthToken';\nimport ClockingBtns from './ClockingBtns';\nimport axios from 'axios';\nimport EditBtn from './EditBtn';\n\nconst BtnCardReveal = props => {\n  //set auth=========================================================================\n  const authContext = useContext(AuthContext);\n  useEffect(() => {\n    authContext.loadUser();\n  }, []);\n\n  if (localStorage.token) {\n    setAuthToken(localStorage.token);\n  } //set global variables ============================================================================\n\n\n  const token = authContext.token;\n  const jobId = props.jobId;\n  let headers = {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json'\n  };\n  headers['x-auth-token'] = token; //fetch timecards for each job ========================================================================\n\n  let fetchedTc = useHttp('/api/timecard/' + jobId, 'GET', '', headers, []);\n  const latestTcArr = fetchedTc[1];\n  const latestTc = latestTcArr[0];\n  useEffect(() => {\n    setTcObj(latestTc);\n  }, [latestTc]); //hooks ==================================================================================================\n\n  const _useState = useState(),\n        _useState2 = _slicedToArray(_useState, 2),\n        cardHeight = _useState2[0],\n        setCardHeight = _useState2[1];\n\n  const _useState3 = useState({\n    msg: 'fetch has not finished yet'\n  }),\n        _useState4 = _slicedToArray(_useState3, 2),\n        tcObj = _useState4[0],\n        setTcObj = _useState4[1]; //functions ==============================================================================================\n\n\n  const openTcChecker = () => {\n    if (tcObj) {\n      if (tcObj.clockIn && !tcObj.clockOut) {\n        if (tcObj.lunchIn && !tcObj.lunchOut) {\n          return ['Lunch Out'];\n        } else if (tcObj.breakIn && !tcObj.breakOut) {\n          return ['Break Out'];\n        } else if (tcObj.lunchIn && tcObj.lunchOut) {\n          return ['Break In', 'Clock Out'];\n        } else if (tcObj.breakIn && tcObj.breakOut) {\n          return ['Lunch In', 'Clock Out'];\n        } else if (tcObj.breakOut && tcObj.lunchOut) {\n          return ['Clock Out'];\n        } else {\n          return ['Lunch In', 'Break In', 'Clock Out'];\n        }\n      } else {\n        return ['Clock In'];\n      }\n    }\n  };\n\n  const cstate = openTcChecker();\n  console.log(\"this is the cstate!!!!!!!!: \".concat(cstate));\n  return React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card\",\n    \"data-id\": jobId,\n    style: {\n      height: cardHeight\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"card-title activator grey-text text-darken-4\",\n    onClick: () => setCardHeight('300px'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \" \", props.title, \" \", React.createElement(\"i\", {\n    className: \"material-icons right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"keyboard_arrow_down\"))), React.createElement(\"div\", {\n    className: \"card-reveal\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"card-title grey-text text-darken-4\",\n    onClick: () => setCardHeight(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \" \", props.title, \" \", React.createElement(\"i\", {\n    className: \"material-icons right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"close\")), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"Job Description: \"), props.description), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"Job Role: \"), props.role), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, \"Job Type: \"), props.type), React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"btnList\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn-floating btn-small waves-effect waves-light blue hoverable\",\n    value: \"All Timecards\",\n    onClick: () => window.location = \"/timecards/\" + props.jobId,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"material-icons small\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, \"library_books\")), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, \"All Timecards\"))), React.createElement(ClockingBtns, {\n    state: cstate,\n    tc: latestTc,\n    jobId: jobId,\n    token: token,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  })))));\n};\n\nexport default BtnCardReveal;","map":{"version":3,"sources":["/Users/KyleOliveri/Desktop/uclaFullStackCoding/Homework/Group-Project-3/timecard-app/client/src/components/BtnList/BtnCardReveal.js"],"names":["React","useState","useEffect","useContext","useHttp","AuthContext","setAuthToken","ClockingBtns","axios","EditBtn","BtnCardReveal","props","authContext","loadUser","localStorage","token","jobId","headers","fetchedTc","latestTcArr","latestTc","setTcObj","cardHeight","setCardHeight","msg","tcObj","openTcChecker","clockIn","clockOut","lunchIn","lunchOut","breakIn","breakOut","cstate","console","log","height","title","description","role","type","window","location"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react'\nimport './BtnCardReveal.css';\nimport { useHttp } from '../Hooks/Fetch';\nimport AuthContext from '../../context/auth/AuthContext';\nimport setAuthToken from '../../utils/setAuthToken';\nimport ClockingBtns from './ClockingBtns';\nimport axios from 'axios';\nimport EditBtn from './EditBtn';\n\n\nconst BtnCardReveal = (props) => {\n    //set auth=========================================================================\n    const authContext = useContext(AuthContext);\n\n    useEffect(() => {\n        authContext.loadUser();\n    }, [])\n\n    if (localStorage.token) {\n        setAuthToken(localStorage.token);\n    }\n\n    //set global variables ============================================================================\n    const token = authContext.token;\n    const jobId = props.jobId;\n    let headers = {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n    }\n    headers['x-auth-token'] = token;\n\n\n    //fetch timecards for each job ========================================================================\n    let fetchedTc = useHttp('/api/timecard/'+jobId, 'GET', '', headers, []);\n    const latestTcArr = fetchedTc[1];\n    const latestTc = latestTcArr[0];\n    useEffect( () => { setTcObj(latestTc) }, [latestTc] )\n    \n    \n\n    //hooks ==================================================================================================\n    const [cardHeight, setCardHeight] = useState();\n    const [tcObj, setTcObj] = useState({msg: 'fetch has not finished yet'});\n\n\n        //functions ==============================================================================================\n        const openTcChecker = () => {\n            if(tcObj){\n                if(tcObj.clockIn && !tcObj.clockOut){\n                    if(tcObj.lunchIn && !tcObj.lunchOut){\n                        return ['Lunch Out'];\n                    } else if(tcObj.breakIn && !tcObj.breakOut){\n                        return ['Break Out'];\n                    } else if (tcObj.lunchIn && tcObj.lunchOut){\n                        return ['Break In', 'Clock Out'];\n                    } else if (tcObj.breakIn && tcObj.breakOut){\n                        return ['Lunch In', 'Clock Out'];\n                    } else if (tcObj.breakOut && tcObj.lunchOut){\n                        return ['Clock Out'];\n                    } else {\n                        return ['Lunch In', 'Break In', 'Clock Out'];\n                    }\n                    }  else {\n                        return ['Clock In'];\n                }\n\n            }\n        }\n\n        const cstate = openTcChecker();\n       console.log(`this is the cstate!!!!!!!!: ${cstate}`)\n\n    return (\n        <div className='container'>\n            <div className=\"card\" data-id={jobId} style={{ height: cardHeight }}>\n                <div className=\"card-content\">\n                    <span className=\"card-title activator grey-text text-darken-4\" onClick={() => setCardHeight('300px')} > {props.title} <i className=\"material-icons right\" >keyboard_arrow_down</i></span>\n                </div>\n                <div className=\"card-reveal\">\n                    <span className=\"card-title grey-text text-darken-4\" onClick={() => setCardHeight()} > {props.title} <i className=\"material-icons right\">close</i></span>\n                    <div>\n                        <span className='title'>Job Description: </span>\n                        {props.description}\n                    </div>\n                    <div>\n                        <span className='title'>Job Role: </span>\n                        {props.role}\n                    </div>\n                    <div>\n                        <span className='title'>Job Type: </span>\n                        {props.type}\n                    </div>\n                    <ul>\n\n                        <li> \n                            <div id = 'btnList'>\n                                <button className=\"btn-floating btn-small waves-effect waves-light blue hoverable\" value = 'All Timecards' onClick = {() => window.location = \"/timecards/\"+props.jobId}>\n                                    <i className=\"material-icons small\">library_books</i>\n                                </button>\n                                <div>All Timecards</div>\n                            </div>\n                        </li>\n                        <ClockingBtns state = { cstate } tc = { latestTc } jobId = { jobId } token = { token } />\n                    </ul>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default BtnCardReveal;"]},"metadata":{},"sourceType":"module"}