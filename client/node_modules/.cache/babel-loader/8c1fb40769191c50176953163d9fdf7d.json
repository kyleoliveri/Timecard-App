{"ast":null,"code":"import _slicedToArray from \"/Users/KyleOliveri/Desktop/uclaFullStackCoding/Homework/Group-Project-3/timecard-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/KyleOliveri/Desktop/uclaFullStackCoding/Homework/Group-Project-3/timecard-app/client/src/components/Timecard/TimecardPage.js\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport AuthContext from '../../context/auth/AuthContext';\nimport { useHttp } from '../Hooks/Fetch';\nimport setAuthToken from '../../utils/setAuthToken';\nimport CreateNewBtn from './CreateNewBtn';\nimport TcList from './TcList';\nimport loadingImg from '../../img/loading.gif';\nimport './TimecardPage.css';\nimport Navbar from '../Layout/Navbar/Navbar';\n\nconst TimecardPage = ({\n  match\n}) => {\n  const authContext = useContext(AuthContext);\n  useEffect(() => {\n    authContext.loadUser(); // eslint-disable-next-line\n  }, []);\n\n  if (localStorage.token) {\n    setAuthToken(localStorage.token);\n  } else {\n    window.location.href = '/';\n  }\n\n  console.log(\"\\n      this is the token:\\n      \".concat(authContext.token, \"\\n      \\n      \")); // const loading = 'loading . . .';\n\n  const loading = 'loading . . .';\n\n  const _useState = useState(loading),\n        _useState2 = _slicedToArray(_useState, 2),\n        tc = _useState2[0],\n        setTc = _useState2[1];\n\n  const tcLoadingChecker = arr => {\n    arr[0] ? setTc(arr) : setTc(loading);\n  };\n\n  const token = authContext.token;\n  let h = {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json'\n  };\n  h['x-auth-token'] = token;\n  const jid = match.params.id;\n  console.log(\"\\n      \\n      this is the JID:\\n      \".concat(jid, \"\\n      \\n      \\n      \")); //fetch timecards ==============================================================================================\n\n  let fetchedTc = useHttp('/api/timecard/' + jid, 'GET', '', h, []);\n  const tcloading = fetchedTc[0];\n  const t = fetchedTc[1];\n  useEffect(() => tcLoadingChecker(t), [t]);\n  console.log(\"\\n          \\n          this is timecards\\n          \".concat(JSON.stringify(t), \"\\n          \\n          \"));\n  console.log(\"\\n  \\n  this is the params id!!!!!\\n  \".concat(match.params.id, \"\\n  \"));\n\n  const loadingTimeout = () => {\n    if (t.length === 0) {\n      return React.createElement(\"h3\", {\n        className: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Please Enter a Timecard\");\n    } else {\n      return React.createElement(\"img\", {\n        src: loadingImg,\n        style: {\n          height: '200px',\n          width: '200px',\n          position: 'absolute',\n          top: 'calc(50% - 100px',\n          left: 'calc(50% - 100px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      });\n    }\n  };\n\n  return [React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(Navbar, {\n    title: \"Timecards\",\n    dropdown: false,\n    home: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }), React.createElement(\"main\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(\"body\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(CreateNewBtn, {\n    jid: jid,\n    token: token,\n    h: h,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }), tc === loading ? loadingTimeout() : tc.map((v, i) => {\n    return React.createElement(TcList, {\n      key: i,\n      tcId: v._id,\n      date: v.date,\n      clockIn: v.clockIn,\n      clockOut: v.clockOut || '',\n      lunchIn: v.lunchIn || '',\n      lunchOut: v.lunchOut || '',\n      breakIn: v.breakIn || '',\n      breakOut: v.breakOut || '',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    });\n  }))))];\n};\n\nexport default TimecardPage;","map":{"version":3,"sources":["/Users/KyleOliveri/Desktop/uclaFullStackCoding/Homework/Group-Project-3/timecard-app/client/src/components/Timecard/TimecardPage.js"],"names":["React","useState","useEffect","useContext","AuthContext","useHttp","setAuthToken","CreateNewBtn","TcList","loadingImg","Navbar","TimecardPage","match","authContext","loadUser","localStorage","token","window","location","href","console","log","loading","tc","setTc","tcLoadingChecker","arr","h","jid","params","id","fetchedTc","tcloading","t","JSON","stringify","loadingTimeout","length","height","width","position","top","left","map","v","i","_id","date","clockIn","clockOut","lunchIn","lunchOut","breakIn","breakOut"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react'\nimport AuthContext from '../../context/auth/AuthContext';\nimport { useHttp } from '../Hooks/Fetch';\nimport setAuthToken from '../../utils/setAuthToken';\nimport CreateNewBtn from './CreateNewBtn';\nimport TcList from './TcList';\nimport loadingImg from '../../img/loading.gif';\nimport './TimecardPage.css';\nimport Navbar from '../Layout/Navbar/Navbar';\n\nconst TimecardPage = ({ match }) => {\n  const authContext = useContext(AuthContext);\n\n  useEffect(() => {\n    authContext.loadUser();\n    // eslint-disable-next-line\n  }, [])\n\n\n  if (localStorage.token) {\n    setAuthToken(localStorage.token);\n  } else {\n    window.location.href = '/';\n  }\n\n\n  console.log(`\n      this is the token:\n      ${authContext.token}\n      \n      `)\n\n\n\n\n  // const loading = 'loading . . .';\n  const loading = 'loading . . .';\n  const [tc, setTc] = useState(loading)\n  const tcLoadingChecker = (arr) => { arr[0] ? setTc(arr) : setTc(loading) };\n\n  const token = authContext.token;\n  let h = {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n  }\n  h['x-auth-token'] = token;\n  const jid = match.params.id;\n  console.log(`\n      \n      this is the JID:\n      ${jid}\n      \n      \n      `)\n\n  //fetch timecards ==============================================================================================\n  let fetchedTc = useHttp('/api/timecard/' + jid, 'GET', '', h, []);\n  const tcloading = fetchedTc[0];\n  const t = fetchedTc[1];\n\n\n  useEffect(() => tcLoadingChecker(t), [t]);\n\n  console.log(`\n          \n          this is timecards\n          ${JSON.stringify(t)}\n          \n          `);\n\n  console.log(`\n  \n  this is the params id!!!!!\n  ${match.params.id}\n  `)\n\n  const loadingTimeout = () => {\n    if (t.length === 0) {\n      return <h3 className=\"center\">Please Enter a Timecard</h3>;\n    } else {\n      return <img src={loadingImg} style={{ height: '200px', width: '200px', position: 'absolute', top: 'calc(50% - 100px', left: 'calc(50% - 100px' }} />;\n    }\n  }\n\n  return [\n    <div>\n      <Navbar title=\"Timecards\" dropdown={false} home={true} />\n      <main>\n        <body>\n          <CreateNewBtn jid={jid} token={token} h={h} />\n          {tc === loading ? loadingTimeout() : tc.map((v, i) => {\n            return <TcList\n              key={i}\n              tcId={v._id}\n              date={v.date}\n              clockIn={v.clockIn}\n              clockOut={v.clockOut || ''}\n              lunchIn={v.lunchIn || ''}\n              lunchOut={v.lunchOut || ''}\n              breakIn={v.breakIn || ''}\n              breakOut={v.breakOut || ''}\n            />\n          })\n          }\n\n          {/* <TcList jobId = {match.params.id}/> */}\n        </body>\n      </main>\n    </div>\n  ];\n};\n\nexport default TimecardPage;"]},"metadata":{},"sourceType":"module"}