{"ast":null,"code":"import _objectSpread from \"/Users/KyleOliveri/Desktop/uclaFullStackCoding/Homework/Group-Project-3/timecard-app/client/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/KyleOliveri/Desktop/uclaFullStackCoding/Homework/Group-Project-3/timecard-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/KyleOliveri/Desktop/uclaFullStackCoding/Homework/Group-Project-3/timecard-app/client/src/components/Register/Register.js\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport AlertContext from '../../context/alert/AlertContext';\nimport AuthContext from '../../context/auth/AuthContext';\nimport { SET_ALERT } from '../../context/types';\n\nconst Register = props => {\n  const alertContext = useContext(AlertContext);\n  const authContext = useContext(AuthContext);\n\n  const _useState = useState({\n    name: '',\n    email: '',\n    password: '',\n    password2: ''\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        user = _useState2[0],\n        setUser = _useState2[1];\n\n  const name = user.name,\n        email = user.email,\n        password = user.password,\n        password2 = user.password2;\n  const setAlert = alertContext.setAlert;\n  const register = authContext.register,\n        error = authContext.error,\n        clearErrors = authContext.clearErrors,\n        isAuthenticated = authContext.isAuthenticated;\n  useEffect(() => {\n    if (isAuthenticated) {\n      props.history.push('/');\n    }\n\n    if (error === 'User already exists') {\n      setAlert(error, 'danger');\n      clearErrors();\n    } // eslint-disable-next-line\n\n  }, [error, isAuthenticated, props.history]);\n\n  const onChange = e => setUser(_objectSpread({}, user, {\n    [e.target.name]: e.target.value\n  }));\n\n  const onSubmit = e => {\n    e.preventdefault();\n\n    if (name === '' || email === '' || password === '') {\n      setAlert('Please Enter all fields', 'danger');\n    } else if (password !== password2) {\n      setAlert('Passwords do not match', 'danger');\n    } else {\n      register({\n        name,\n        email,\n        password\n      });\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \"form-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Account\"), \" \", React.createElement(\"span\", {\n    className: \"text-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Register\"), React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Email Address\"), React.createElement(\"input\", {\n    type: \"name\",\n    name: \"name\",\n    value: name,\n    onChange: onChange,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \"Email Address\"), React.createElement(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    value: email,\n    onChange: onChange,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"Password\"), React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    value: password,\n    onChange: onChange,\n    required: true,\n    minLength: \"6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"password2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \"Confirm Password\"), React.createElement(\"input\", {\n    type: \"password2\",\n    name: \"password2\",\n    value: password2,\n    onChange: onChange,\n    required: true,\n    minLength: \"6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  })), React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Login\",\n    className: \"btn btn-primary btn-block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  })));\n};\n\nexport default Register;","map":{"version":3,"sources":["/Users/KyleOliveri/Desktop/uclaFullStackCoding/Homework/Group-Project-3/timecard-app/client/src/components/Register/Register.js"],"names":["React","useState","useContext","useEffect","AlertContext","AuthContext","SET_ALERT","Register","props","alertContext","authContext","name","email","password","password2","user","setUser","setAlert","register","error","clearErrors","isAuthenticated","history","push","onChange","e","target","value","onSubmit","preventdefault"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react'\nimport AlertContext from '../../context/alert/AlertContext';\nimport AuthContext from '../../context/auth/AuthContext';\nimport { SET_ALERT } from '../../context/types';\n\nconst Register = (props) => {\n    const alertContext = useContext(AlertContext);\n    const authContext = useContext(AuthContext);\n\n    const [user, setUser] = useState({\n        name: '',\n        email: '',\n        password: '',\n        password2: ''\n\n    })\n    const { name, email, password, password2 } = user;\n\n    const { setAlert } = alertContext;\n    const { register, error, clearErrors, isAuthenticated } = authContext;\n\n    useEffect(() => {\n        if (isAuthenticated) {\n            props.history.push('/')\n        }\n        if (error === 'User already exists') {\n            setAlert(error, 'danger')\n            clearErrors();\n        }\n        // eslint-disable-next-line\n    }, [error, isAuthenticated, props.history]);\n\n    const onChange = (e) => setUser({ ...user, [e.target.name]: e.target.value })\n\n    const onSubmit = e => {\n        e.preventdefault();\n        if (name === '' || email === '' || password === '') {\n            setAlert('Please Enter all fields', 'danger')\n        } else if (password !== password2) {\n            setAlert('Passwords do not match', 'danger')\n        } else {\n\n            register({\n                name,\n                email,\n                password\n            })\n        }\n    }\n\n    return (\n        <div className=\"form-container\">\n            <h1>Account</h1> <span className=\"text-primary\">Register</span>\n            <form onSubmit={onSubmit}>\n                <div className=\"form-group\">\n                    <label htmlFor=\"name\">Email Address</label>\n                    <input type=\"name\" name=\"name\" value={name} onChange={onChange} required />\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"email\">Email Address</label>\n                    <input type=\"email\" name=\"email\" value={email} onChange={onChange} required />\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"password\">Password</label>\n                    <input type=\"password\" name=\"password\" value={password} onChange={onChange} required minLength=\"6\" />\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"password2\">Confirm Password</label>\n                    <input type=\"password2\" name=\"password2\" value={password2} onChange={onChange} required minLength=\"6\" />\n                </div>\n                <input type=\"submit\" value=\"Login\" className=\"btn btn-primary btn-block\" />\n            </form>\n        </div>\n    )\n}\n\nexport default Register\n"]},"metadata":{},"sourceType":"module"}